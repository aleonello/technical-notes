# SSL Certificate

## Links

* [Error "Alias name[certificate_alias_name] does not identify a key entry" during HTTPS setup](https://support.tibco.com/s/article/Error-Alias-name-certificate-alias-name-does-not-identify-a-key-entry-during-HTTPS-setup)

```sh
openssl pkcs12 -export -in fullchain.pem -inkey privkey.pem -out domain.pfx
```

## How generate CSR

```sh
openssl req -new -newkey rsa:2048 -nodes -keyout [your_domain].key -out your_domain.csr
```

## How convert CA to K8S TLS

1. Combine the Certificate and CA Bundle:
Combine your signed certificate and CA bundle into a single file if your application expects the full chain:

```sh
cat certificate.crt ca-bundle.crt > fullchain.crt
```
example:
```sh
cat STAR_example_com.crt STAR_example_com.srl > fullchain.crt
```

2. Create a Kubernetes Secret:
Kubernetes expects the certificate and key to be base64 encoded. We will create a secret containing these.
First, base64 encode the certificate and the private key (where is generated by CSR step)

```sh
base64 -w 0 fullchain.crt > cert_base64.txt
base64 -w 0 private.key > key_base64.txt
```
